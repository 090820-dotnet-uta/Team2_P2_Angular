<app-navbar></app-navbar>

<div class="bigContainer">
    <div class="formContainer">
        <div class="littleContainer">


            <div class="form">
                <span class="head" *ngIf="thisLoginType == 'client'">
                    Displaying hire requests for {{thisLoginType}} {{thisUserName}}...
                </span>
                <span class="head" *ngIf="thisLoginType == 'contractor'">
                    Displaying hire requests from {{thisLoginType}} {{thisUserName}}...
                </span>
                <span class="head" *ngIf="!hireRequestVMs || hireRequestVMs.length == 0">
                    No hire quests found associated with {{thisUserName}}
                </span>
            </div>


            <div class="form">

            </div>

        </div>
    </div>
</div>

<ul *ngFor="let hireRequestVM of hireRequestVMs">
    <div class="card">
        <b style="text-decoration: underline;">Project:</b> {{hireRequestVM.projectName}}

        <div>
            <b>Position:</b> {{hireRequestVM.positionTitle}}
            <br/>
            <span id={{hireRequestVM.clientName}}><b>Client:</b> {{hireRequestVM.clientName}}</span>
            <br/>
            <b>Contractor:</b> {{hireRequestVM.contractorName}}
            <br/>
            <b>Status:</b> {{hireRequestVM.requestStatus}}
            <br/>
            <span *ngIf="thisLoginType == 'contractor'">
                <button class="button" (click)="deleteHireRequest(hireRequestVM)">Withdraw Hire Request</button>
            </span>
            <span *ngIf="thisLoginType == 'client' && hireRequestVM.requestStatus == 'Pending'">
                <button class="button" (click)="approveHireRequest(hireRequestVM)">Approve</button> | 
                <button class="button" (click)="denyHireRequest(hireRequestVM)">Deny</button>
            </span>
        </div>
    </div>
    
</ul>
<a (click)="goBack()" class="button">Back</a> 